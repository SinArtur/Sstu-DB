# Как получить токен доступа

Если команда `JSON.parse(localStorage.getItem('auth-storage')).accessToken` возвращает `undefined`, попробуйте следующие варианты:

## Вариант 1: Проверьте структуру данных

Выполните в консоли браузера:

```javascript
// Посмотрите, что хранится в localStorage
localStorage.getItem('auth-storage')
```

Если вы видите JSON строку, попробуйте:

```javascript
// Распарсите и посмотрите структуру
const authData = JSON.parse(localStorage.getItem('auth-storage'))
console.log(authData)
```

Затем найдите токен в структуре данных.

## Вариант 2: Проверьте через Application/Storage

1. Откройте консоль браузера (F12)
2. Перейдите на вкладку **Application** (Chrome) или **Storage** (Firefox)
3. Найдите **Local Storage** → ваш домен (polikek.ru)
4. Найдите ключ `auth-storage`
5. Кликните на него и посмотрите значение
6. Найдите поле `accessToken` в JSON

## Вариант 3: Войдите заново

Если токена нет, возможно вы не залогинены:

1. Войдите на сайт `https://polikek.ru` как администратор
2. Убедитесь, что вы действительно залогинены (проверьте, что видите свой профиль)
3. Затем попробуйте снова получить токен

## Вариант 4: Используйте Network tab

1. Откройте консоль браузера (F12)
2. Перейдите на вкладку **Network**
3. Обновите страницу или выполните какое-то действие на сайте
4. Найдите любой запрос к `/api/`
5. Откройте его и посмотрите в заголовках **Request Headers**
6. Найдите заголовок `Authorization: Bearer ...`
7. Скопируйте токен после слова `Bearer`

## Вариант 5: Через кнопку на сайте

Если у вас есть доступ к кнопке "Обновить расписание" на сайте, можно:

1. Откройте консоль браузера (F12) → вкладка **Network**
2. Нажмите кнопку "Обновить расписание" на сайте
3. Найдите запрос к `/api/schedule/updates/trigger_sync_sync/`
4. Откройте его → вкладка **Headers**
5. Найдите заголовок `Authorization` и скопируйте токен

